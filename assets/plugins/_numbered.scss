$startLevel: 1;
$endLevel: 6;

.book-page .markdown {
  counter-reset: h1 h2 h3 h4 h5 h6;
}

.book-page .markdown {
  @for $currentLevel from $startLevel through $endLevel {
    $counterSet: "";
    @for $x from $currentLevel through $endLevel {
      $counterSet: $counterSet + ' h#{$x + 1} 0';
    }
    h#{$currentLevel} {
      counter-set: unquote($counterSet);
      // counter-reset: h#{$currentLevel + 1};
      counter-increment: h#{$currentLevel};
    }
    $content: "";
    @for $n from $startLevel through $currentLevel {
      $content: $content + 'counter(h#{$n})"."';
    }

    h#{$currentLevel}::before {
      content: unquote($content) " ";
    }
  }
}

.book-menu nav ol {
  li {
    counter-increment: item;

    &:first-child {
      counter-reset: item;
    }

    &:before {
      content: counters(item, ".") ". ";
      float: left;
      margin-inline-end: $padding-4;
    }
  }
}
